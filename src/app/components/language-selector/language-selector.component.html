<button (click)="toggleDropdown()" type="button" class="inline-flex items-center justify-center w-full rounded-full bg-snap-gray px-4 py-2 text-sm font-medium text-white hover:bg-snap-gray/80 focus:outline-none focus-visible:ring-2 focus-visible:ring-snap-yellow">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 ltr:mr-2 rtl:ml-2 text-zinc-400">
    <path d="M7.75 2.75a.75.75 0 0 0-1.5 0V3.5h-1a.75.75 0 0 0 0 1.5h1v1.25a.75.75 0 0 0 1.5 0V5h1a.75.75 0 0 0 0-1.5h-1V2.75Z" />
    <path fill-rule="evenodd" d="M6 8a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 6 8ZM10 8a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 8ZM6.646 4.646a.75.75 0 0 1 0 1.06l-1.06 1.06a.75.75 0 0 1-1.06-1.06l1.06-1.06a.75.75 0 0 1 1.06 0ZM13.354 4.646a.75.75 0 0 1 1.06 0l1.06 1.06a.75.75 0 0 1-1.06 1.06l-1.06-1.06a.75.75 0 0 1 0-1.06ZM10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM4.5 10a.75.75 0 0 0-1.5 0v.015c0 .352.07.686.202.992a.75.75 0 0 0 1.296-.763A2.492 2.492 0 0 1 4.5 10Zm5.44.22a.75.75 0 0 0 1.21-.884A5.5 5.5 0 0 0 4.77 6.56a.75.75 0 0 0-1.06 1.06 4 4 0 0 1 6.23 2.58Zm-3.174 4.012a.75.75 0 0 0 1.06 1.06 4 4 0 0 1-6.23-2.58.75.75 0 1 0-1.21.884 5.5 5.5 0 0 0 6.38 3.7Z" clip-rule="evenodd" />
  </svg>
  <span>{{ currentLanguageName() }}</span>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 ltr:ml-2 rtl:mr-2 -mr-1 transition-transform duration-200" [class.rotate-180]="isOpen()">
    <path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
  </svg>
</button>

@if (isOpen()) {
  <div class="dropdown-menu absolute mt-2 w-48 origin-top rounded-2xl bg-snap-dark shadow-lg ring-1 ring-black/50 focus:outline-none z-10 overflow-hidden left-1/2 -translate-x-1/2">
    <div class="p-1">
      @for (lang of translateService.availableLanguages(); track lang.code) {
        <button 
          (click)="selectLanguage(lang.code)"
          type="button"
          class="w-full text-start block px-3 py-2 text-sm font-medium rounded-lg transition-colors"
          [class]="translateService.currentLang() === lang.code ? 'bg-snap-yellow text-black' : 'text-zinc-300 hover:bg-snap-gray hover:text-white'">
          {{ lang.name }}
        </button>
      }
    </div>
  </div>
}